<%- include('../partials/header'); %>

<%- include('../partials/topbar'); %>

<div id="fillformcontainer" class="container mt-3">
  <form action="<%= form === 'edit' ? `/projects/edit/${project.projectid}` : '/projects'  %>" method="POST"
    id="fillform">
    <div>
      <input id="idform" class="form-control" type="number" name="projectid" step="1" placeholder="ID" hidden
        <%= form === 'edit' ? `value=${project.projectid}` : 'disabled'%>>
      <div class="d-flex flex-row mb-3">
        <div class="container w-25">
          <label class="form-check-label" for="Name">Name</label>
        </div>
        <div class="container">
          <input id="nameform" class="form-control" type="text" name="name" placeholder="Name"
            value="<%= form === 'edit' ? project.name : '' %>">
        </div>
      </div>
      <div class="d-flex flex-row mb-3">
        <div class="container w-25">
          <label class="form-check-label" for="Name">Members</label>
        </div>
        <div class="container">
          <% members.forEach((el) => { %>
          <div class="form-check">
            <input type="checkbox" class="form-check-input" name="userid" value="<%= el.userid %>"
              <%= form === 'edit' && project.members.includes(el.userid) ? 'checked' : '' %>>
            <label class="form-check-label"
              for="<%= `${el.firstname} ${el.lastname}` %>"><%= `${el.firstname} ${el.lastname}` %></label>
          </div>
          <% }) %>
        </div>
      </div>
    </div>
    <button id="submitfillform" class="btn btn-primary" type="submit">Save</button>
</div>
</form>
</div>

<%- include('../partials/footer'); %>