<%- include('../partials/header'); %>

<%- include('../partials/topbar'); %>
<div class="px-3 py-3">
  <h2><%= form === 'edit' ? 'Edit' : 'Add' %> User</h2>
  <hr>
  <div id="filterform" class="container">
    <form action="<%= form !== 'edit' ? '/users' : `/users/edit/${users.userid}` %>" method="POST" id="users">
      <input type="text" name="userid" value="<%= form === 'edit' ? users.userid : '' %>" hidden>
      <div>
        <div class="d-flex flex-row mb-3">
          <div class="container w-25">
            <label class="form-label" for="Email">Email</label>
          </div>
          <div class="container">
            <input class="form-control" type="email" name="email" step="1" placeholder="Email"
              value="<%= form === 'edit' ? users.email : '' %>">
          </div>
        </div>
        <div class="d-flex flex-row mb-3">
          <div class="container w-25">
            <label class="form-label" for="Password">Password</label>
          </div>
          <div class="container">
            <input class="form-control" type="password" name="password" placeholder="Password">
          </div>
        </div>
        <div class="d-flex flex-row mb-3">
          <div class="container w-25">
            <label class="form-label" for="First Name">First Name</label>
          </div>
          <div class="container">
            <input class="form-control" type="text" name="firstname" placeholder="First Name"
              value="<%= form === 'edit' ? users.firstname : '' %>">
          </div>
        </div>
        <div class="d-flex flex-row mb-3">
          <div class="container w-25">
            <label class="form-label" for="Last Name">Last Name</label>
          </div>
          <div class="container">
            <input class="form-control" type="text" name="lastname" placeholder="Last Name"
              value="<%= form === 'edit' ? users.lastname : '' %>">
          </div>
        </div>
        <div class="d-flex flex-row mb-3">
          <div class="container w-25">
            <label class="form-check-label" for="">Position</label>
          </div>
          <div class="container">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="position" id="manager" value="manager"
                <%= form === 'edit' && users.position === 'manager' ? 'checked' : '' %>>
              <label class="form-check-label" for="manager">Manager</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="position" id="softwaredev" value="software developer"
                <%= form === 'add' ? 'checked' : form === 'edit' && users.position === 'software developer' ? 'checked' : '' %>>
              <label class="form-check-label" for="softwaredev">Software Developer</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="position" id="qa" value="quality assurance"
                <%= form === 'edit' && users.position === 'quality assurance' ? 'checked' : '' %>>
              <label class="form-check-label" for="qa">Quality Assurance</label>
            </div>
          </div>
        </div>
        <div class="d-flex flex-row mb-3">
          <div class="container w-25">
            <label class="form-check-label" for="">Type</label>
          </div>
          <div class="container">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="fulltime" id="fulltime"
                <%= form === 'edit' && users.fulltime ? 'checked' : '' %>>
              <label class="form-check-label" for="fulltime">Fulltime</label>
            </div>
          </div>
        </div>
        <div class="d-flex flex-row mb-3">
          <div class="container w-25">
            <label class="form-check-label" for="">Role</label>
          </div>
          <div class="container">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="role" value="admin"
                <%= form === 'edit' && users.role === 'admin' ? 'checked' : '' %>>
              <label class="form-check-label" for="role">Admin</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="role" value="user"
                <%= form === 'add' ? 'checked' : form === 'edit' && users.role === 'user' ? 'checked' : '' %>>
              <label class="form-check-label" for="role">User</label>
            </div>
          </div>
        </div>
      </div>
      <button class="btn btn-primary" type="submit"><%= form === 'edit' ? 'Update' : 'Save' %></button>
  </div>
  </form>
</div>
</div>

<%- include('../partials/footer'); %>