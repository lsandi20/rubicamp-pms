<%- include('../partials/header'); %>

<%- include('../partials/topbar'); %>
<% if (breadmessage.length > 0) { %>
<div class="alert alert-success show w-25 float-end" role="alert">
  <%= breadmessage[0] %>
</div>
<% } %>
<div class="px-3 py-3">
  <h2>Profile</h2>
  <hr>
  <div id="filterform" class="container">
    <form action="profile" method="POST" id="profile">
      <input type="text" name="userid" value="<%= user.userid %>" hidden>
      <div>
        <div class="d-flex flex-row mb-3">
          <div class="container w-25">
            <label class="form-label" for="Email">Email</label>
          </div>
          <div class="container">
            <input class="form-control" type="email" name="email" step="1" placeholder="Email" disabled
              value="<%= profile.email%>">
          </div>
        </div>

        <div class="d-flex flex-row mb-3">
          <div class="container w-25">
            <label class="form-label" for="Password">Password</label>
          </div>
          <div class="container">
            <input class="form-control" type="password" name="password" placeholder="Password">
          </div>
        </div>
        <div class="d-flex flex-row mb-3">
          <div class="container w-25">
            <label class="form-check-label" for="">Position</label>
          </div>
          <div class="container">
            <div class="form-check">
              <input class="form-check-input" type="radio" <%= profile.position === 'manager' ? 'checked' : '' %>
                name="position" id="manager" value="manager">
              <label class="form-check-label" for="manager">Manager</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio"
                <%= profile.position === 'software developer' ? 'checked' : '' %> name="position" id="softwaredev"
                value="software developer">
              <label class="form-check-label" for="softwaredev">Software Developer</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio"
                <%= profile.position === 'quality assurance' ? 'checked' : '' %> name="position" id="qa"
                value="quality assurance">
              <label class="form-check-label" for="qa">Quality Assurance</label>
            </div>
          </div>
        </div>
        <div class="d-flex flex-row mb-3">
          <div class="container w-25">
            <label class="form-check-label" for="">Type</label>
          </div>
          <div class="container">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" <%= profile.fulltime ? 'checked' : '' %> name="fulltime"
                id="fulltime">
              <label class="form-check-label" for="fulltime">Fulltime</label>
            </div>
          </div>
        </div>
      </div>
      <button class="btn btn-primary" type="submit">Update</button>
  </div>
  </form>
</div>
</div>
<script>
  setTimeout(() => {
    if (document.querySelector('alert')) {
      document.querySelector('.alert').classList.add('fade')
      document.querySelector('.alert').hidden = true
    }
  }, 1000)
</script>
<%- include('../partials/footer'); %>